<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="images/banananana.png">
        <title>Banana clicker</title>
        <style>
            *{
                font-family: sans serif, monospace, comic sans ms;
            }

            h1{
                text-align: center;
            }

            .sectionLeft{
                float: left;
                width: 72%;
            }

            .sectionRight{
                float: right;
                width: 28%;
            }

            .scoreContainer{
                background-color: rgb(220, 220, 220, 0.6);
                width: 50%;
                padding: 10px;
                border-radius: 10px;
                font-size: 24px;
                font-weight: 700;
            }

            .clickerContainer img{
                position: relative;
                transition: .15s ease-in-out;
            }

            .clickerContainer img:hover{
                transform: scale(1.10);
            }

            .clickerContainer img:active{
                transform: scale(0.93);
            }

            .shopButton{
                background-color: #c7c7c7;
                transition: .15s ease-in-out;
                border-radius: 10px;
                width: 100%;
                margin: 10px 0px 10px 0px;
            }

            .shopButton:hover{
                background-color: #b5b5b5;
            }

            .cursorJPG{
                width: 50px;
                height: 50px;
                margin-left: 10px;
            }

            .shopButton #nameAndCost p{
                margin: 0px;
                width: 60%;
            }

            .shopButton #nameAndCost p:first-of-type{
                font-size: 24px;
                
            }

            .shopButton #amount{
                font-size: 48px;
                color: #595959;
                width: 15%;
            }

            table.shopButton, #banana, button{
                cursor: pointer;
            }

            .unselectable{
                user-select: none;
            }

            #saveButton{
                position: absolute;
                bottom: 2%;
                left: 90%;
            }

            #resetButton{
                position: absolute;
                bottom: 2%;
                left: 2%;
            }

            #changeName{
                position: absolute;
                bottom: 2%;
                left: 30%;
            }

            h1{
                margin: 0;
            }
            
            .newsTicker{
                background-color: blue;
                color: white;
                font-weight: 600;
                width: 80%;
                border-radius: 5px;
                vertical-align: middle;
                margin-top: 2%;
                margin-bottom: 2%;
            }

            .noEat{
                color: white;
            }

            #upgradeShop{
                border: 3px solid black;
                border-radius: 10px;
                height: 62px;
                width: 100%;
                overflow-x: hidden;
                overflow-y: scroll;
            }

            .upgrade{
                width: 40px;
                height: 40px;
                margin: 8px;
                border: 1px solid black;
                border-radius: 4px;
                cursor: pointer;
                transition: .10s ease-in-out;
            }

            .upgrade:hover{
                width: 50px;
                height: 50px;
            }

            #secret...{
                display: hidden;
            }
            
        </style>
    </head>
    <body>
        
        <div class="sectionLeft">
            <center>
                <h1 class="unselectable">Banana clicker</h1>

                <p id="displayName"><span id="name">Noisy Pineapples</span>'s Bananas</p>

                <div class="newsTicker unselectable" onclick="nextNews()">
                    <div class="tickerText unselectable">
                        News: <span id="newsText"></span>
                    </div>
                </div>
                <div class="scoreContainer unselectable">
                    <span id="score">0</span> bananas<br />
                    <span id="bps">0</span> bananas per second<br />
                    <span id="clickingPower">1</span> bananas per click
                </div>
                <br />
                <div class="clickerContainer unselectable">
                    <img src="images/banananana.png" onclick="bananaClicked()" id="banana" class="unselectable"/>
                </div>
            </center>
        </div>
        <div class="sectionRight">
            <h4 style="margin: 5px;" class="unselectable">
                Buy 1:
            </h4>
            <div id="buildingShop">
                <table class="shopButton unselectable" onclick="buyCursor()">
                    <tr>
                        <td id="image">
                            <img src="images/cursor.jpg" class="cursorJPG"/>
                        </td>
                        <td id="nameAndCost">
                            <p>Cursor</p>
                            <p><span id="cursorCost">15</span> bananas</p>
                        </td>
                        <td id="amount"><span id="cursors">0</span></td>
                    </tr>
                </table>
                <table class="shopButton unselectable" onclick="buyMonkey()">
                    <tr>
                        <td id="image">
                            <img src="images/MONKEY.png" class="cursorJPG"/>
                        </td>
                        <td id="nameAndCost">
                            <p>Monkey</p>
                            <p><span id="monkeyPrice">100</span> bananas</p>
                        </td>
                        <td id="amount"><span id="monkeys">0</span></td>
                    </tr>
                </table>
                <table class="shopButton unselectable" onclick="buyBananaTree()">
                    <tr>
                        <td id="image">
                            <img src="images/bananaTree.png" class="cursorJPG"/>
                        </td>
                        <td id="nameAndCost">
                            <p>Banana tree</p>
                            <p><span id="bananaTreePrice">1100</span> bananas</p>
                        </td>
                        <td id="amount"><span id="bananaTrees">0</span></td>
                    </tr>
                </table>
                <table class="shopButton unselectable" onclick="buyFactory()">
                    <tr>
                        <td id="image">
                            <img src="images/factory.png" class="cursorJPG"/>
                        </td>
                        <td id="nameAndCost">
                            <p>Factory</p>
                            <p><span id="factoryPrice">12000</span> bananas</p>
                        </td>
                        <td id="amount"><span id="factories">0</span></td>
                    </tr>
                </table>
                <table class="shopButton unselectable" onclick="buyBank()">
                    <tr>
                        <td id="image">
                            <img src="images/bank.png" class="cursorJPG"/>
                        </td>
                        <td id="nameAndCost">
                            <p>Bank</p>
                            <p><span id="bankPrice">130000</span> bananas</p>
                        </td>
                        <td id="amount"><span id="banks">0</span></td>
                    </tr>
                </table>
                <h4 style="margin: 5px;" class="unselectable">
                    Buy 10:
                </h4>
                <div id="upgradeShop" class="unselectable">
                    <img class="upgrade unselectable" src="images/cursor.jpg" onclick="for(i=1; i<=10; i++){buyCursor()}"/>
                    <img class="upgrade unselectable" src="images/MONKEY.png" onclick="for(i=1; i<=10; i++){buyMonkey()}"/>
                    <img class="upgrade unselectable" src="images/bananaTree.png" onclick="for(i=1; i<=10; i++){buyBananaTree()}"/>
                    <img class="upgrade unselectable" src="images/factory.png" onclick="for(i=1; i<=10; i++){buyFactory()}"/>
                    <img class="upgrade unselectable" src="images/bank.png" onclick="for(i=1; i<=10; i++){buyBank()}"/>
                </div>
            </div>
        </div>
        
        <button onclick="saveGame()" id="saveButton">Save game</button>
        <button onclick="changeName()" id="changeName">Change name</button>
        <button onclick="setBananas(score * 1000)" id="secret1">X1000 Bananas</button>
        <button onclick="setBananas(score / 1000)" id="secret2">/1000 Bananas</button>
        <button onclick="setBananas(score + Math.pow(10, 100))" id="secret3">+Googol Bananas</button>
        <button onclick="reset()" id="resetButton">Reset game</button>
            
        <script>
            console.log("#koko#");
            
            var score = 0;
            var cursorCost = 15;
            var monkeyCost = 100;
            var bananaTreeCost = 1100;
            var factoryCost = 12000;
            var bankCost = 130000;
            var cursors = 0;
            var monkeys = 0;
            var factories = 0;
            var bananaTrees = 0;
            var banks = 0;
            var bps = 0;
            var clickingPower = 1;
            var no = 0;
            var currentNews = "Someone Opened Banana Clicker!";
            var name = "Noisy Pineapples";

            let secret1 = document.getElementById("secret1");
            let secret2 = document.getElementById("secret2");
            
            function update(){
                document.getElementById('cursors').innerHTML = cursors;
                document.getElementById('score').innerHTML = shorten(score);
                document.getElementById('cursorCost').innerHTML = shorten(cursorCost);
                document.getElementById('bps').innerHTML = shorten(bps);
                document.getElementById('clickingPower').innerHTML = Math.round(clickingPower);
                document.getElementById('monkeyPrice').innerHTML = shorten(monkeyCost);
                document.getElementById('monkeys').innerHTML = monkeys;
                document.getElementById('factoryPrice').innerHTML = shorten(factoryCost);
                document.getElementById('factories').innerHTML = factories;
                document.getElementById('bananaTreePrice').innerHTML = shorten(bananaTreeCost);
                document.getElementById('bananaTrees').innerHTML = bananaTrees;
                document.getElementById('bankPrice').innerHTML = shorten(bankCost);
                document.getElementById('banks').innerHTML = banks;
                document.getElementById('newsText').innerHTML = currentNews;
                document.getElementById('name').innerHTML = name;
            }
            
            function bananaClicked(){
                score += Math.round(clickingPower);
                let bananaClickSound = new Audio('sounds/ohbanana.wav');
                bananaClickSound.play();
                update();
            }

            function setBananas(amount){
                score = amount;
                update();
            }

            function buyCursor(){
                if (score >= cursorCost){
                    score -= cursorCost;
                    cursors++;
                    bps++;
                    clickingPower += 0.11;
                    cursorCost = Math.round(cursorCost * 1.15);
                    update();
                } else {
                    if (no > 50){
                        if (no > 150){
                            if (no === 1000000){
                                setBananas(-9999999999);
                                no++;
                            } else {
                                console.error('STOP!');
                                no++;
                            }
                        } else {
                            console.warn('stop.');
                            no++;
                        }
                    } else {
                        console.log('No');
                        no++;
                    }
                }
            }

            function buyMonkey(){
                if (score >= monkeyCost){
                    score -= monkeyCost;
                    monkeys++;
                    bps += 5;
                    clickingPower += 0.06;
                    monkeyCost = Math.round(monkeyCost * 1.15);
                    update();
                } else {
                    if (no > 50){
                        if (no > 150){
                            if (no === 1000000){
                                setBananas(-9999999999);
                                no++;
                            } else {
                                console.error('STOP!');
                                no++;
                            }
                        } else {
                            console.warn('stop.');
                            no++;
                        }
                    } else {
                        console.log('No');
                        no++;
                    }
                }
            }
            
            function buyBananaTree(){
                if (score >= bananaTreeCost){
                    score -= bananaTreeCost;
                    bananaTrees++;
                    bps += Math.round(15 * 1 + (monkeys / 5));
                    clickingPower += 0.051;
                    bananaTreeCost = Math.round(bananaTreeCost * 1.15);
                   update();
                } else {
                    if (no > 50){
                        if (no > 150){
                            if (no === 1000000){
                                setBananas(-9999999999);
                                no++;
                            } else {
                                console.error('STOP!');
                                no++;
                            }
                        } else {
                            console.warn('stop.');
                            no++;
                        }
                    } else {
                        console.log('No');
                        no++;
                    }
                }
            }

            function buyFactory(){
                if (score >= factoryCost){
                    score -= factoryCost;
                    factories++;
                    bps += 45;
                    clickingPower += 0.16;
                    factoryCost = Math.round(factoryCost * 1.20);
                    update();
                } else {
                    if (no > 50){
                        if (no > 150){
                            if (no === 1000000){
                                setBananas(-9999999999);
                                no++;
                            } else {
                                console.error('STOP!');
                                no++;
                            }
                        } else {
                            console.warn('stop.');
                            no++;
                        }
                    } else {
                        console.log('No');
                        no++;
                    }
                }
            }
            
            function buyBank(){
                if (score >= bankCost){
                    score -= bankCost;
                    banks++;
                    bps += 250;
                    clickingPower += 0.2;
                    bankCost = Math.round(bankCost * 1.20);
                    update();
                } else {
                    if (no > 50){
                        if (no > 150){
                            if (no === 1000000){
                                setBananas(-9999999999);
                                no++;
                            } else {
                                console.error('STOP!');
                                no++;
                            }
                        } else {
                            console.warn('stop.');
                            no++;
                        }
                    } else {
                        console.log('No');
                        no++;
                    }
                }
            }

            let changeName = () => {
                name = prompt("Enter your name.");
                if(name === ""){
                    name = "Noisy Pineapples";
                } 

                checkForSecret();
            }

            let checkForSecret = () => {
                if(name === "#koko#"){
                    alert("Admin mode is still in development.");
                    secret1.style.display = "block";
                    secret2.style.display = "block";
                    secret3.style.display = "block";
                } else {
                    secret1.style.display = "none";
                    secret2.style.display = "none";
                    secret3.style.display = "none";
                }
            }

            /*let secret2Function = function(){
                score = prompt("How many bananas?");
                update();
            }*/

            function saveGame(){
                var gameSave = {
                    score: score,
                    clickingPower: clickingPower,
                    cursorCost: cursorCost,
                    cursors: cursors,
                    monkeyCost: monkeyCost,
                    monkeys: monkeys,
                    bananaTreeCost: bananaTreeCost,
                    bananaTrees: bananaTrees,
                    factoryCost: factoryCost,
                    factories: factories,
                    bankCost: bankCost,
                    banks: banks,
                    bps: bps,
                    name: name
                }
                localStorage.setItem('gameSave', JSON.stringify(gameSave));
            }

            function loadGame(){
                var savedGame = JSON.parse(localStorage.getItem("gameSave"));
                if (typeof savedGame.score !== "undefined") score = savedGame.score;
                if (typeof savedGame.clickingPower !== "undefined") clickingPower = savedGame.clickingPower;
                if (typeof savedGame.cursorCost !== "undefined") cursorCost = savedGame.cursorCost;
                if (typeof savedGame.cursors !== "undefined") cursors = savedGame.cursors;
                if (typeof savedGame.monkeyCost !== "undefined") monkeyCost = savedGame.monkeyCost;
                if (typeof savedGame.monkeys !== "undefined") monkeys = savedGame.monkeys;
                if (typeof savedGame.bananaTreeCost !== "undefined") bananaTreeCost = savedGame.bananaTreeCost;
                if (typeof savedGame.bananaTrees !== "undefined") bananaTrees = savedGame.bananaTrees;
                if (typeof savedGame.factoryCost !== "undefined") factoryCost = savedGame.factoryCost;
                if (typeof savedGame.factories !== "undefined") factories = savedGame.factories;
                if (typeof savedGame.bankCost !== "undefined") bankCost = savedGame.bankCost;
                if (typeof savedGame.banks !== "undefined") banks = savedGame.banks;
                if (typeof savedGame.bps !== "undefined") bps = savedGame.bps;
                if (typeof savedGame.name !== "undefined") name = savedGame.name;
            }

            function reset(){
                    if (confirm("Are you sure you want to reset? This can not be undone.") == true){
                    score = 0;
                    cursorCost = 15;
                    monkeyCost = 100;
                    bananaTreeCost = 1100;
                    factoryCost = 12000;
                    bankCost = 130000;
                    cursors = 0;
                    monkeys = 0;
                    factories = 0;
                    bananaTrees = 0;
                    banks = 0;
                    bps = 0;
                    clickingPower = 1;
                    no = 0;
                    name = "Noisy Pineapples";
                    update();
                }
            }

            var count;

function shorten(num) {
    var count = Math.round(num);
    var str = count.toString();
    var tmpCount = '';
    if (count < 1000000) {
        tmpCount = "";
    } else if (count > 1000000 && count < 1000000000) {
        str = "Million";
        tmpCount = (count / 1000000).toFixed(2);
    } else if (count > 1000000000 && count < 1000000000000) {
        str = "Billion";
        tmpCount = (count / 1000000000).toFixed(2);
    } else if (count > 1000000000000 && count < 1000000000000000) {
        str = "Trillion";
        tmpCount = (count / 1000000000000).toFixed(2);
    } else if (count > 1000000000000000 && count < 1000000000000000000) {
        str = "Quadrillion";
        tmpCount = (count / 1000000000000000).toFixed(2);
    } else if (count > 1000000000000000000 && count < 1000000000000000000000) {
        str = "Quintillion";
        tmpCount = (count / 1000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000 && count < 1000000000000000000000000) {
        str = "Sextillion";
        tmpCount = (count / 1000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000 && count < 1000000000000000000000000000) {
        str = "Septillion";
        tmpCount = (count / 1000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000 && count < 1000000000000000000000000000000) {
        str = "Octillion";
        tmpCount = (count / 1000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000 && count < 1000000000000000000000000000000000) {
        str = "Nonillion";
        tmpCount = (count / 1000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000 && count < 1000000000000000000000000000000000000) {
        str = "Decillion";
        tmpCount = (count / 1000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000) {
        str = "Undecillion";
        tmpCount = (count / 1000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000) {
        str = "Duodecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000000) {
        str = "Tredecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000000000) {
        str = "Quattuordecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000000000000) {
        str = "Quindecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000000000000000) {
        str = "Sexdecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000000000000000000) {
        str = "Septendecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000000000000000000000) {
        str = "Octodecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000000000000000000000 && count < 1000000000000000000000000000000000000000000000000000000000000000) {
        str = "Novemdecillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 1000000000000000000000000000000000000000000000000000000000000000 && count < 10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000) {
        str = "Vigintillion";
        tmpCount = (count / 1000000000000000000000000000000000000000000000000000000000000000).toFixed(2);
    } else if (count > 10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 && count) {
        str = "Googol";
        tmpCount = (count / 10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000).toFixed(2);
    }


    return tmpCount + ' ' + str;
}
            let newsItems = ["Bananas Are Very Epic!", "Stay Away From Imposter bananas!", "Banana Gets lost in a cave! Rescue workers are attempting to save him.", "Someone said \"MaxMax\" and went missing!", "Person plays banana clicker for more than 40 seconds!", "If you see a banana with brown or black spots, RUN!", "Person says \"KOKO!\" and gets eaten! Remember: never say Koko or MaxMax.", "Thanks for playing banana clicker! -Koko (The creator)", "Person becomes epic by playing banana clicker!", "There is a very evil person running around taking banana's skin and peeling it off! And he eats bananas!", "I wouldnt mind SOMEONE ELSE telling ME the news!", "If you want a shoutout in the news, just ask me!", "Local person is making a lot of bananas!", '<a href="https://scratch.mit.edu/projects/831092152/", class="noEat unselectable", target="_blank">"Banana sweet, but not to eat."</a>, -MaxMax', 'Local insane man rumbles about not liking bananas. he is currently facing over 100 years in prison.', 'New banana maker on the rise to take over the world!', '"The Aidenleeaiden knows where you live", -Aidenleeaiden'];
            let newsID = 0;
            
            setInterval(function() 
                {
                    score = score += bps / 10; 
                    update();
                    document.title = shorten(score) + ' Bananas - Banana clicker';
                }, 100);
            setInterval(function() {
                saveGame();
            }, 20000)

            function nextNews(){
                newsID = newsID % newsItems.length;
                currentNews = newsItems[newsID];
                update();
                newsID++;
            }

            setInterval(function(){
                nextNews();
            }, 6000)

            window.onload = function(){
                loadGame();
                update();
                checkForSecret()
            };
        </script>
    </body>
</html>
